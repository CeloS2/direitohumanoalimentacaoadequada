<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Direito Humano √† Alimenta√ß√£o Adequada</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e74c3c;
            --accent-color: #27ae60;
            --text-color: #333;
            --light-bg: #f9f9f9;
            --dark-bg: #222;
        }

        /* Barra de rolagem personalizada */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #000;
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #333;
        }

        body {
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1543352634-a1c51d9f1fa7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80') center/cover no-repeat;
            color: white;
            text-align: center;
            padding: 6rem 2rem;
            position: relative;
        }

        .header-content {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
        }

        .btn {
            display: inline-block;
            background: var(--secondary-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn:hover {
            background: #c0392b;
            transform: translateY(-3px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        section {
            margin: 4rem 0;
            padding: 2rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 2rem;
            text-align: center;
            font-size: 2.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--secondary-color);
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .problem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .problem-card {
            background: var(--light-bg);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .problem-card:hover {
            transform: translateY(-5px);
        }

        .problem-img {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .problem-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .problem-card:hover .problem-img img {
            transform: scale(1.1);
        }

        .caption-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .caption-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 1rem;
            font-size: 0.9rem;
            display: none;
        }

        .problem-content {
            padding: 1.5rem;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: var(--primary-color);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .solution-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: center;
        }

        @media (max-width: 768px) {
            .solution-content {
                grid-template-columns: 1fr;
            }
        }

        .solution-img {
            border-radius: 10px;
            overflow: hidden;
        }

        .solution-img img {
            width: 100%;
            height: auto;
            display: block;
        }

        .call-to-action {
            text-align: center;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            color: white;
            padding: 4rem 2rem;
        }

        .comments-section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .comment-form {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .comment-list {
            margin-top: 2rem;
        }

        .comment {
            background: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .comment-author {
            font-weight: bold;
            color: var(--primary-color);
        }

        .comment-date {
            color: #777;
            font-size: 0.9rem;
        }

        footer {
            background: var(--dark-bg);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        .accessibility-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }

        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .solution-card {
            background: var(--light-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .solution-card:hover {
            transform: translateY(-5px);
        }

        .solution-card i {
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 1rem;
        }

        .awareness-section {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 4rem 2rem;
            text-align: center;
            border-radius: 10px;
        }

        .awareness-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .action-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .action-step {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Direito Humano √† Alimenta√ß√£o Adequada</h1>
            <p class="subtitle">Conscientiza√ß√£o, dados e solu√ß√µes para um problema global</p>
            <a href="#problem" class="btn">Saiba Mais</a>
        </div>
    </header>

    <div class="container">
        <section id="problem">
            <h2>Comer √© um ato de dignidade, n√£o um privil√©gio</h2>
            <p>O Direito Humano √† Alimenta√ß√£o Adequada (DHAA) √© um direito humano b√°sico reconhecido internacionalmente, que garante a todas as pessoas o acesso regular e permanente a alimentos de qualidade, em quantidade suficiente, com base em pr√°ticas alimentares saud√°veis.</p>
            <p>No entanto, milh√µes de pessoas em todo o mundo ainda sofrem com a fome e a m√° nutri√ß√£o, enquanto outras enfrentam problemas de sa√∫de relacionados √† alimenta√ß√£o inadequada.</p>

            <div class="problem-grid">
                <div class="problem-card">
                    <div class="problem-img">
                        <img src="https://observatorio3setor.org.br/wp-content/uploads/2017/09/Ree.png" alt="Desperd√≠cio de alimentos">
                        <button class="caption-btn" aria-label="Mostrar legenda">‚ÑπÔ∏è</button>
                        <div class="caption-text">
                            Cerca de 1/3 de todos os alimentos produzidos no mundo s√£o desperdi√ßados anualmente, enquanto milh√µes passam fome.
                        </div>
                    </div>
                    <div class="problem-content">
                        <h3>Desperd√≠cio de Alimentos</h3>
                        <p>Enquanto milh√µes passam fome, um ter√ßo de toda a comida produzida no mundo √© desperdi√ßada anualmente.</p>
                    </div>
                </div>

                <div class="problem-card">
                    <div class="problem-img">
                        <img src="https://thenationonlineng.net/wp-content/uploads/2020/03/malnourished-children.jpg">
                        <button class="caption-btn" aria-label="Mostrar legenda">‚ÑπÔ∏è</button>
                        <div class="caption-text">
                            A m√° nutri√ß√£o infantil afeta o desenvolvimento f√≠sico e cognitivo, perpetuando ciclos de pobreza.
                        </div>
                    </div>
                    <div class="problem-content">
                        <h3>M√° Nutri√ß√£o Infantil</h3>
                        <p>149 milh√µes de crian√ßas menores de 5 anos sofrem de desnutri√ß√£o cr√¥nica, afetando seu desenvolvimento.</p>
                    </div>
                </div>

                <div class="problem-card">
                    <div class="problem-img">
                        <img src="https://th.bing.com/th/id/R.30c4ac4cc28df73002e1b39194c5cced?rik=a1IxAQuk2Mv9eA&riu=http%3a%2f%2fi0.statig.com.br%2fbancodeimagens%2f30%2f8b%2fyq%2f308byqmbr5rufxz9g2p5ol0z4.jpg&ehk=9LoQP9iuKL2LK%2bBqaCGPRi1%2bQNOiKbcnSdMuU1A0Yz0%3d&risl=&pid=ImgRaw&r=0">
                        <button class="caption-btn" aria-label="Mostrar legenda">‚ÑπÔ∏è</button>
                        <div class="caption-text">
                            Comunidades vulner√°veis frequentemente t√™m acesso limitado a alimentos nutritivos e a pre√ßos acess√≠veis.
                        </div>
                    </div>
                    <div class="problem-content">
                        <h3>Acesso Desigual</h3>
                        <p>Comunidades vulner√°veis t√™m acesso limitado a alimentos nutritivos, perpetuando ciclos de pobreza.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="data">
            <h2>Dados Alarmantes</h2>
            <p>Os n√∫meros relacionados √† fome e √† m√° nutri√ß√£o no mundo s√£o alarmantes e mostram a urg√™ncia de a√ß√µes concretas para garantir o direito humano √† alimenta√ß√£o adequada para todos.</p>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number">828 milh√µes</div>
                    <p>de pessoas passam fome no mundo</p>
                </div>
                <div class="stat-card">
                    <div class="stat-number">45%</div>
                    <p>das mortes infantis est√£o relacionadas √† desnutri√ß√£o</p>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3,1 bilh√µes</div>
                    <p>de pessoas n√£o podem ter uma dieta saud√°vel</p>
                </div>
                <div class="stat-card">
                    <div class="stat-number">130 milh√µes</div>
                    <p>de pessoas foram levadas √† fome pela COVID-19 e conflitos</p>
                </div>
            </div>

            <p>Fonte: FAO (Organiza√ß√£o das Na√ß√µes Unidas para Alimenta√ß√£o e Agricultura) - 2022</p>
        </section>

        <section id="solutions">
            <h2>Solu√ß√µes Propostas</h2>
            
            <div class="solutions-grid">
                <div class="solution-card">
                    <i class="fas fa-ban"></i>
                    <h3>Combate ao Desperd√≠cio</h3>
                    <p>Implementar pol√≠ticas p√∫blicas e iniciativas privadas para reduzir o desperd√≠cio de alimentos em toda a cadeia produtiva, desde a colheita at√© o consumo.</p>
                    <ul>
                        <li>Campanhas de conscientiza√ß√£o sobre aproveitamento integral dos alimentos</li>
                        <li>Incentivos fiscais para doa√ß√£o de excedentes alimentares</li>
                        <li>Tecnologias para melhorar a conserva√ß√£o e armazenamento</li>
                    </ul>
                </div>
                
                <div class="solution-card">
                    <i class="fas fa-seedling"></i>
                    <h3>Agricultura Sustent√°vel</h3>
                    <p>Incentivar pr√°ticas agr√≠colas sustent√°veis que respeitem o meio ambiente e garantam alimentos saud√°veis para as gera√ß√µes presentes e futuras.</p>
                    <ul>
                        <li>Transi√ß√£o para agricultura agroecol√≥gica e org√¢nica</li>
                        <li>Suporte t√©cnico e financeiro para pequenos agricultores</li>
                        <li>Prote√ß√£o e recupera√ß√£o de solos e recursos h√≠dricos</li>
                    </ul>
                </div>
                
                <div class="solution-card">
                    <i class="fas fa-book-reader"></i>
                    <h3>Educa√ß√£o Alimentar</h3>
                    <p>Promover programas de educa√ß√£o alimentar e nutricional para capacitar as pessoas a fazerem escolhas alimentares saud√°veis.</p>
                    <ul>
                        <li>Inser√ß√£o de educa√ß√£o alimentar no curr√≠culo escolar</li>
                        <li>Oficinas culin√°rias com aproveitamento integral de alimentos</li>
                        <li>Campanhas p√∫blicas sobre alimenta√ß√£o saud√°vel</li>
                    </ul>
                </div>
                
                <div class="solution-card">
                    <i class="fas fa-landmark"></i>
                    <h3>Pol√≠ticas P√∫blicas</h3>
                    <p>Fortalecer pol√≠ticas p√∫blicas que garantam o acesso √† alimenta√ß√£o adequada, especialmente para popula√ß√µes vulner√°veis.</p>
                    <ul>
                        <li>Programas de alimenta√ß√£o escolar com produtos locais</li>
                        <li>Restri√ß√µes √† publicidade de alimentos ultraprocessados</li>
                        <li>Regulamenta√ß√£o da composi√ß√£o nutricional dos alimentos</li>
                    </ul>
                </div>
                
                <div class="solution-card">
                    <i class="fas fa-hand-holding-usd"></i>
                    <h3>Apoio √† Agricultura Familiar</h3>
                    <p>Fortalecer a agricultura familiar que produz a maior parte dos alimentos consumidos no Brasil.</p>
                    <ul>
                        <li>Cr√©dito rural acess√≠vel para pequenos produtores</li>
                        <li>Programas de compra governamental da agricultura familiar</li>
                        <li>Assist√™ncia t√©cnica rural gratuita</li>
                    </ul>
                </div>
                
                <div class="solution-card">
                    <i class="fas fa-store"></i>
                    <h3>Circuitos Curtos de Comercializa√ß√£o</h3>
                    <p>Estimular a conex√£o direta entre produtores rurais e consumidores.</p>
                    <ul>
                        <li>Feiras livres e feiras org√¢nicas em bairros</li>
                        <li>Programas de CSA (Comunidade que Sustenta a Agricultura)</li>
                        <li>Compras coletivas organizadas por comunidades</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="awareness-section">
            <div class="awareness-content">
                <h2>Conscientiza√ß√£o e A√ß√£o</h2>
                <p>O direito √† alimenta√ß√£o adequada √© fundamental para a dignidade humana. Cada um de n√≥s pode contribuir para mudar essa realidade:</p>
                
                <div class="action-steps">
                    <div class="action-step">
                        <h3>Como Cidad√£o</h3>
                        <ul>
                            <li>Reduza o desperd√≠cio de alimentos em sua casa</li>
                            <li>Apoie agricultores locais e produtos da esta√ß√£o</li>
                            <li>Participe de iniciativas de doa√ß√£o e voluntariado</li>
                            <li>Eduque-se e eduque outros sobre nutri√ß√£o adequada</li>
                        </ul>
                    </div>
                    
                    <div class="action-step">
                        <h3>Como Consumidor</h3>
                        <ul>
                            <li>Prefira alimentos in natura e minimamente processados</li>
                            <li>Leia r√≥tulos e evite produtos com excesso de aditivos</li>
                            <li>Participe de feiras locais e compre diretamente do produtor</li>
                            <li>Reduza o consumo de alimentos ultraprocessados</li>
                        </ul>
                    </div>
                    
                    <div class="action-step">
                        <h3>Como Agente de Mudan√ßa</h3>
                        <ul>
                            <li>Cobre dos governantes pol√≠ticas p√∫blicas efetivas</li>
                            <li>Engaje-se em movimentos pela seguran√ßa alimentar</li>
                            <li>Divulgue informa√ß√µes qualificadas sobre o tema</li>
                            <li>Participe de conselhos de alimenta√ß√£o escolar</li>
                        </ul>
                    </div>
                </div>
                
                <p style="margin-top: 2rem;">Juntos podemos construir um mundo onde ningu√©m passe fome!</p>
                <a href="#comments" class="btn" style="margin-top: 1.5rem;">Deixe seu Coment√°rio</a>
            </div>
        </section>

        <section class="comments-section" id="comments">
            <h2>Coment√°rios</h2>
            <p>Deixe sua opini√£o, sugest√£o ou compartilhe experi√™ncias relacionadas ao direito √† alimenta√ß√£o adequada.</p>
            
            <div class="comment-form">
                <div class="form-group">
                    <label for="name">Nome:</label>
                    <input type="text" id="name" placeholder="Seu nome">
                </div>
                <div class="form-group">
                    <label for="comment">Coment√°rio:</label>
                    <textarea id="comment" placeholder="Seu coment√°rio"></textarea>
                </div>
                <button class="btn" id="submit-comment">Enviar Coment√°rio</button>
            </div>

            <div class="comment-list" id="comment-list">
                <div class="comment">
                    <div class="comment-header">
                        <span class="comment-author">Maria Silva</span>
                        <span class="comment-date">10/09/2025</span>
                    </div>
                    <p>√â fundamental discutirmos esse tema. Em minha comunidade, temos um projeto de horta comunit√°ria que tem ajudado muitas fam√≠lias.</p>
                </div>
                
                <div class="comment">
                    <div class="comment-header">
                        <span class="comment-author">Jo√£o Santos</span>
                        <span class="comment-date">08/08/2025</span>
                    </div>
                    <p>Precisamos de mais pol√≠ticas p√∫blicas voltadas para a seguran√ßa alimentar nas periferias. √ìtima iniciativa este site!</p>
                </div>
                
                <div class="comment">
                    <div class="comment-header">
                        <span class="comment-author">Ana Costa</span>
                        <span class="comment-date">05/08/2025</span>
                    </div>
                    <p>Gostaria de saber como posso me envolver mais ativamente nesta causa. Voc√™s poderiam indicar organiza√ß√µes que trabalham com isso?</p>
                </div>
            </div>
        </section>
    </div>

    <div class="accessibility-btn" aria-label="Op√ß√µes de acessibilidade">
        <i class="fas fa-universal-access"></i>
    </div>

    <footer>
        <p>¬© 2023 - Direito Humano √† Alimenta√ß√£o Adequada | Conscientiza√ß√£o e A√ß√£o</p>
        <p>Site criado para fins educativos e de conscientiza√ß√£o</p>
        <p>Fontes: FAO, ONU, IBGE e Organiza√ß√£o Mundial da Sa√∫de</p>
    </footer>

    <script>
        // Script para as legendas de acessibilidade
        document.querySelectorAll('.caption-btn').forEach(button => {
            button.addEventListener('click', function() {
                const caption = this.nextElementSibling;
                caption.style.display = caption.style.display === 'block' ? 'none' : 'block';
            });
        });

        // Script para enviar coment√°rios
        document.getElementById('submit-comment').addEventListener('click', function() {
            const nameInput = document.getElementById('name');
            const commentInput = document.getElementById('comment');
            
            if (nameInput.value.trim() === '' || commentInput.value.trim() === '') {
                alert('Por favor, preencha todos os campos!');
                return;
            }
            
            const commentList = document.getElementById('comment-list');
            const newComment = document.createElement('div');
            newComment.className = 'comment';
            
            const date = new Date();
            const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
            
            newComment.innerHTML = `
                <div class="comment-header">
                    <span class="comment-author">${nameInput.value}</span>
                    <span class="comment-date">${formattedDate}</span>
                </div>
                <p>${commentInput.value}</p>
            `;
            
            commentList.prepend(newComment);
            
            // Limpar os campos
            nameInput.value = '';
            commentInput.value = '';
            
            alert('Coment√°rio enviado com sucesso!');
        });

        // Acessibilidade - aumento de fonte
        const accessibilityBtn = document.querySelector('.accessibility-btn');
        let fontSizeIncreased = false;
        
        accessibilityBtn.addEventListener('click', function() {
            const elements = document.querySelectorAll('body, p, h1, h2, h3, a, button');
            elements.forEach(el => {
                if (fontSizeIncreased) {
                    el.style.fontSize = '';
                } else {
                    const currentSize = window.getComputedStyle(el).fontSize;
                    const newSize = parseFloat(currentSize) * 1.2;
                    el.style.fontSize = `${newSize}px`;
                }
            });
            
            fontSizeIncreased = !fontSizeIncreased;
        });
    </script>

   <!-- === In√≠cio: Painel de Leitura Inteligente (Glassmorphism Preto) === -->
<style>
  #tts-panel {
    position: fixed;
    right: 20px;
    bottom: 90px;
    width: 350px;
    background: rgba(0, 0, 0, 0.65);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    border-radius: 20px;
    box-shadow: 0 8px 28px rgba(0, 0, 0, 0.4);
    padding: 18px;
    font-family: "Segoe UI", Roboto, sans-serif;
    z-index: 3000;
    display: none; /* come√ßa escondido */
    color: #000000;
    animation: fadeInUp 0.35s ease;
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  #tts-panel h4 {
    margin: 0 0 14px 0;
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    color: #ffffff;
  }

  #tts-panel label {
    font-size: 13px;
    margin-top: 8px;
    display: block;
    color: #ffffff;
  }

  #tts-panel select,
  #tts-panel input[type="range"] {
    width: 100%;
    margin-top: 4px;
    background: rgba(0, 0, 0, 0.693);
    border: none;
    border-radius: 8px;
    padding: 6px;
    color: #ffffff;
  }

  #tts-controls {
    display: flex;
    gap: 8px;
    margin-top: 14px;
  }

  #tts-controls button {
    flex: 1;
    padding: 10px;
    border-radius: 12px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  #tts-controls button.play { background: #27ae60; color: #fff; }
  #tts-controls button.pause { background: #f39c12; color: #fff; }
  #tts-controls button.stop { background: #c0392b; color: #fff; }

  #tts-controls button:hover { filter: brightness(1.15); transform: translateY(-2px); }

  #theme-controls {
    margin-top: 14px;
    display: flex;
    gap: 8px;
    align-items: center;
  }

  #theme-controls button {
    flex: 1;
    padding: 8px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #2980b9;
    color: #fff;
    font-weight: 600;
    transition: all 0.2s ease;
  }

  #theme-controls button:hover { filter: brightness(1.15); transform: translateY(-2px); }

  .small-note {
    font-size: 11px;
    color: #aaa;
    margin-top: 10px;
    text-align: center;
  }

  .tts-highlight {
    background: rgba(255, 215, 70, 0.85);
    border-radius: 4px;
    transition: background 0.2s ease;
  }
</style>

<div id="tts-panel" aria-label="Painel de leitura inteligente">
  <h4>üé§ Leitura Inteligente</h4>

  <label for="voiceSelect">Voz</label>
  <select id="voiceSelect"></select>

  <label for="rate">Velocidade: <span id="rateVal">1</span>x</label>
  <input id="rate" type="range" min="0.5" max="2" step="0.1" value="1">

  <label for="pitch">Tom: <span id="pitchVal">1</span></label>
  <input id="pitch" type="range" min="0.5" max="2" step="0.1" value="1">

  <div style="margin-top:6px;">
    <input type="checkbox" id="highlightToggle" checked>
    <label for="highlightToggle" style="display:inline;color:#ccc;">Destacar texto em leitura</label>
  </div>

  <div id="tts-controls">
    <button id="readPage" class="play">Ler P√°gina</button>
    <button id="readSelection" class="play" disabled>Ler Sele√ß√£o</button>
    <button id="pauseBtn" class="pause">Pausar/Continuar</button>
    <button id="stopBtn" class="stop">Parar</button>
  </div>

  <div id="theme-controls">
    <button id="themeToggle">‚ñ∂ Tema</button>
    <input id="themeVolume" type="range" min="0" max="1" step="0.01" value="0.3">
  </div>

  <div class="small-note">Atalhos: Alt+L (ler), Alt+P (pausar), Alt+S (parar)</div>
</div>

<audio id="siteTheme" loop preload="none"
  src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_7e1f8d6b5f.mp3?filename=calm-acoustic-guitar-111094.mp3"></audio>

<script>
(function(){
  const panel = document.getElementById("tts-panel");
  const accessibilityBtn = document.querySelector(".accessibility-btn");
  const voiceSelect = document.getElementById("voiceSelect");
  const rateInput = document.getElementById("rate");
  const pitchInput = document.getElementById("pitch");
  const rateVal = document.getElementById("rateVal");
  const pitchVal = document.getElementById("pitchVal");
  const readPageBtn = document.getElementById("readPage");
  const readSelectionBtn = document.getElementById("readSelection");
  const pauseBtn = document.getElementById("pauseBtn");
  const stopBtn = document.getElementById("stopBtn");
  const highlightToggle = document.getElementById("highlightToggle");
  const themeToggle = document.getElementById("themeToggle");
  const siteTheme = document.getElementById("siteTheme");
  const themeVolume = document.getElementById("themeVolume");

  const synth = window.speechSynthesis;
  let voices = [];
  let currentUtterance = null;

  function populateVoices() {
    voices = synth.getVoices() || [];
    voiceSelect.innerHTML = "";
    voices.sort((a,b) => (a.name || "").localeCompare(b.name || ""));
    voices.forEach(v => {
      const opt = document.createElement("option");
      opt.value = v.name;
      opt.textContent = `${v.name} (${v.lang})`;
      voiceSelect.appendChild(opt);
    });
    const preferPT = voices.find(v => /pt[-_]?br/i.test(v.lang));
    if (preferPT) voiceSelect.value = preferPT.name;
  }
  populateVoices();
  if ("onvoiceschanged" in speechSynthesis) speechSynthesis.onvoiceschanged = populateVoices;

  rateInput.oninput = ()=> rateVal.textContent = rateInput.value;
  pitchInput.oninput = ()=> pitchVal.textContent = pitchInput.value;

  function getVoice(name){ return voices.find(v => v.name === name) || null; }
  function getText(selectionOnly=false){
    const sel = window.getSelection();
    if(selectionOnly && sel) return sel.toString().trim();
    if(sel && sel.toString().trim()) return sel.toString().trim();
    return (document.querySelector("main") || document.body).innerText.trim();
  }

  function clearHighlights(){
    document.querySelectorAll(".tts-highlight").forEach(span=> span.replaceWith(span.textContent));
  }

  function highlightRange(start,len,text){
    const container=document.querySelector("main")||document.body;
    const plain=container.innerText;
    const snippet=text.substr(start,len);
    if(!snippet.trim()) return;
    const index=plain.indexOf(snippet); if(index===-1) return;
    const walker=document.createTreeWalker(container,NodeFilter.SHOW_TEXT);
    let node,acc=0;
    while(node=walker.nextNode()){
      const next=acc+node.nodeValue.length;
      if(index<next){
        const r=document.createRange();
        r.setStart(node,index-acc);
        r.setEnd(node,index-acc+len);
        const span=document.createElement("span");
        span.className="tts-highlight";
        try{ r.surroundContents(span);}catch{}
        return;
      }
      acc=next;
    }
  }

  function speak(text){
    if(!text) return;
    synth.cancel();
    const utt=new SpeechSynthesisUtterance(text);
    const voice=getVoice(voiceSelect.value);
    if(voice) utt.voice=voice;
    utt.rate=parseFloat(rateInput.value);
    utt.pitch=parseFloat(pitchInput.value);

    utt.onboundary=(e)=>{
      if(highlightToggle.checked) highlightRange(e.charIndex,e.charLength||5,text);
    };
    utt.onend=clearHighlights;
    utt.onerror=clearHighlights;

    synth.speak(utt);
    currentUtterance=utt;
  }

  readPageBtn.onclick=()=>{ const t=getText(false); if(t) speak(t); };
  readSelectionBtn.onclick=()=>{ const t=getText(true); if(t) speak(t); };
  pauseBtn.onclick=()=>{ if(synth.paused) synth.resume(); else synth.pause(); };
  stopBtn.onclick=()=>{ synth.cancel(); clearHighlights(); };

  document.addEventListener("selectionchange",()=>{
    readSelectionBtn.disabled=!window.getSelection().toString().trim();
  });

  themeToggle.onclick=()=>{
    if(siteTheme.paused){ siteTheme.volume=themeVolume.value; siteTheme.play(); themeToggle.textContent="‚è∏ Tema"; }
    else { siteTheme.pause(); themeToggle.textContent="‚ñ∂ Tema"; }
  };
  themeVolume.oninput=()=> siteTheme.volume=themeVolume.value;

  document.addEventListener("keydown",(e)=>{
    if(e.altKey){ if(e.key==="l") readPageBtn.click();
      if(e.key==="p") pauseBtn.click();
      if(e.key==="s") stopBtn.click();
    }
  });

  if(accessibilityBtn){
    accessibilityBtn.addEventListener("click",()=>{
      panel.style.display = panel.style.display==="none" ? "block":"none";
    });
  }
})();
</script>
</body>
</html>